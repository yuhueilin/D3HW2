<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>林育慧D3-HW2</title>
    <!-- <script src="script.js"> alert("Hello JS-1!"); </script> -->
    <script src="https://d3js.org/d3.v3.js"></script>
    
    <style>
        * {
            font-family: Microsoft JhengHei, Arial;
        }
        
        span {
            color: darkgray;
            font-size: 12px;
        }
        
        div {
            margin: 2em;
        }
        
        p,
        input.number {
            border: 2px solid lightgray;
            background: lightslategray;
            color: yellow;
            font-size: 14px;
            height: 30px;
            width: 120px;
            text-align: center;
            line-height: 30px;
        }
        
        ::-webkit-input-placeholder {
            color: white;
            font-size: 10px;
        }
    </style>
</head>

<body>
    <!---- ex1 ---->
    <div>
        <span>ex1</span>

        <p></p>
        <input type="button" onclick="launch()" value="啟動">
    </div>
    <br>

    <!---- ex2 ---->
    <div>
        <span>ex2</span>
        <br><br>

        <!--   input text 輸入資訊會在value="" -->
        <input type="text" class="number" placeholder="Entry Number !">
        <br>
        <br>
        <input type="button" onclick="square()" value="平方">
    </div>
    <br>

    <!---- ex3 ---->
    <div>
        <span>ex3</span>
        <br>

        <svg id="svg1" width="300" height="200"></svg>
    </div>
    <br>

    <!---- ex4 ---->
    <div>
        <span>ex4</span>
        <br><br>

        <svg id="svg2" width="500" height="400"></svg>
    </div>
    <br>



    <script>
        //        alert(random(155, 200));
        //        d3.select("body").append("div").text("D3");
        //        d3.select("body").append("h1").text("Hello D3!");

        function random(N, M) {
            return N + Math.ceil(Math.random() * (M - N));
        }
        
        //ex1
        function launch() {
            var num = random(1911, 2016);
            console.log(num);
            d3.select("p").text(num);
        }

        
        //ex2
        function square() {
            var num = d3.select(".number").property("value");
            //nput value傳遞需要使用property
            console.log(num);

            d3.select(".number").property("value", num ** 2);
        };

        
        //ex3
        for (var i = 0; i < 5; i++) {

            d3.select("#svg1")
                .append("line")
                .attr({
                    x1: 0,
                    y1: 45 + 30 * i,
                    x2: 300,
                    y2: 45 + 30 * i,
                    stroke: "gray",
                    strokewidth: 0.5
                });

        }

        d3.select("#svg1")
            .append("circle")
            .attr({
                cx: 150,
                cy: 120,
                r: 15,
                fill: "lightslategray"
            });

        d3.select("#svg1")
            .append("rect")
            .attr({
                x: 160,
                y: 45,
                width: 5,
                height: 78,
                fill: "lightslategray"
            });

        d3.select("#svg1")
            .append("text")
            .attr({
                x: 145,
                y: 190,
                fill: "gray"
            })
            .text("A");
        

        //ex4
        for (var i = 0; i < 20; i++) {

            var rv = random(20, 300);

            d3.select("#svg2")
                .append("rect")
                .attr({
                    x: 10,
                    y: 10 + 12 * i,
                    width: rv,
                    height: 10,
                    fill: "lightslategray"
                });

            d3.select("#svg2")
                .append("text")
                .attr({
                    x: rv + 20, //20:人工微調
                    y: 20 + 12 * i, //20:人工微調
                    "font-size": "8px",
                    "font-family": "Arial",
                    fill: "darkslategray"
                })
                .text(rv);
        }
    </script>

    <!--
    <svg id="svg" width="300" height="200">
        <rect x="160" y="45" width="5" height="78"></rect>
        <circle cx="150" cy="120" r="15"></circle>

        <line x1="0" y1="45" x2="300" y2="45" stroke="black" strokewidth="0.5"></line>
        <line x1="0" y1="75" x2="300" y2="75" stroke="black" strokewidth="0.5"></line>
        <line x1="0" y1="105" x2="300" y2="105" stroke="black" strokewidth="0.5"></line>
        <line x1="0" y1="135" x2="300" y2="135" stroke="black" strokewidth="0.5"></line>
        <line x1="0" y1="165" x2="300" y2="165" stroke="black" strokewidth="0.5"></line>

        <text x="145" y="190" fontsize="40" font-family=“arial”>
            A
        </text>
    </svg>
    -->

</body>

</html>